Forth Structures
================

User Area
---------

```
   0 +--------------------+--------------------+--------------------+--------------------+
     | Dictionary Pointer |        Flags       |   Start of Source  |  Length of Source  |
  32 +--------------------+--------------------+--------------------+--------------------+
     |   Head of Mailbox  |   Tail of Mailbox  |                                         |
  64 +--------------------+--------------------+                                         |
     |                                                                                   |
    ...                                    Reserved                                     ...
     |                                                                                   |
 224 +--------------------+--------------------+--------------------+--------------------+
     |     Stored RBX     |     Stored RSI     |     Stored RSP     |     Stored RBP     |
 256 +--------------------+--------------------+--------------------+--------------------+
     |                                                                                   |
     |                                    Return Stack                                   |
     |                                     (32 words)                                    |
     |                                                                                   |
 512 +--------------------+--------------------+--------------------+--------------------+
     |                                                                                   |
     |                                                                                   |
     |                                                                                   |
     |                                  Parameter Stack                                  |
     |                                     (64 words)                                    |
     |                                                                                   |
     |                                                                                   |
     |                                                                                   |
1024 +--------------------+--------------------+--------------------+--------------------+
```

The flags are:

```
MSB                                                                 LSB
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000CSB
```

|   | Name     | Description                       |
|---|----------|-----------------------------------|
| 0 | Reserved | Should be 0                       |
| B | Base     | 0 = decimal, 1 = hex              |
| C | Comment  | 0 = normal, 1 = reading a comment |
| S | State    | 0 = interpret, 1 = compile        |

Words
-----

```
     0 +-------------------------------+
       |           Next Link           |
     8 +-------+-------+---------------+
       | Flags |  Len  |     Name     ...
10+Len +-------+-------+---------------+
       |              CFA             ...
       +-------------------------------+
       |              PFA             ...
       +-------------------------------+
```

The flags are:

```
MSB  LSB
000000SI
```

|   | Name      | Description               |
|---|-----------|---------------------------|
| 0 | Reserved  | Should be 0               |
| I | Immediate | 0 = normal, 1 = immediate |
| S | Smudge    | 0 = visible, 1 = hidden   |
